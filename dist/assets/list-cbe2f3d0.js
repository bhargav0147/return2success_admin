import{v as T,c as B,r as l,ac as I,dM as S,j as t,S as x,p as b,cP as L,dC as R,dL as _,dI as P,dH as w,dP as N,C as k,B as q,R as v,d as M,W as A}from"./index-27ffd735.js";import{o as u}from"./orderBy-631f93a1.js";import{E as W}from"./empty-content-67ee3c7b.js";import{C as Y}from"./custom-breadcrumbs-891ee9b7.js";import{a as H,b as V,c as X,d as z,e as G}from"./job-details-view-ca91fbfd.js";import"./_baseToString-c85d59f0.js";import"./_baseIteratee-9e852688.js";import"./_baseEach-4159b158.js";import"./index-e5978b8b.js";import"./format-time-4dc4f2eb.js";import"./format-number-bf5061ab.js";import"./ListItemText-ff35796a.js";import"./Pagination-5cbd8de4.js";import"./FirstPage-6da56183.js";import"./index-0c5ce7cc.js";import"./search-not-found-e6059c5f.js";import"./Autocomplete-b5c308cf.js";import"./Select-7c65bb90.js";import"./Menu-02e5c653.js";import"./List-1e1da31b.js";import"./utils-a73c94d0.js";import"./formControlState-a1fb9590.js";import"./useFormControl-146f88ba.js";import"./InputBase-894de89e.js";import"./Close-d91a1546.js";import"./Chip-a5be7a74.js";import"./TextField-18c86d14.js";import"./FormControl-26894946.js";import"./FormLabel-fae9cf0f.js";import"./InputAdornment-babdc070.js";import"./FormControlLabel-4c76a5b9.js";import"./Checkbox-ca090919.js";import"./SwitchBase-cff1fcb3.js";import"./Radio-a65c6d92.js";import"./rhf-autocomplete-cc9ff921.js";import"./upload-avatar-5c17c7d6.js";import"./fade-27de7a97.js";import"./file-thumbnail-bdf7cfb6.js";import"./index-b7215938.js";import"./image-7d02ef11.js";import"./FormGroup-6550ea98.js";import"./Switch-356d0d7d.js";import"./editor-7e7ca674.js";import"./highlight-d4e5d3fc.js";import"./Slider-8f570469.js";import"./visuallyHidden-14c3de6e.js";import"./RadioGroup-d8b34bea.js";import"./yup-c975ca61.js";import"./CardHeader-8b482d81.js";import"./DatePicker-3e2c25a6.js";import"./DialogActions-29076f9a.js";import"./ListItem-fe933c2f.js";import"./ListItemSecondaryAction-d2bd79ed.js";import"./Dialog-5a3d7487.js";import"./DialogContent-90bef667.js";import"./dialogTitleClasses-80e3b880.js";import"./LoadingButton-405ddbf1.js";import"./CircularProgress-a33cd36e.js";import"./markdown-61d29bd3.js";import"./Tabs-a75c564a.js";import"./KeyboardArrowRight-44da873a.js";const j={roles:[],locations:[],benefits:[],experience:"all",employmentTypes:[]};function K(){const e=T(),a=B(),[m,h]=l.useState("latest"),[i,p]=l.useState({query:"",results:[]}),[n,c]=l.useState(j),s=Q({inputData:S,filters:n,sortBy:m}),r=!I(j,n),F=!s.length&&r,O=l.useCallback((o,d)=>{c(f=>({...f,[o]:d}))},[]),g=l.useCallback(o=>{h(o)},[]),C=l.useCallback(o=>{if(p(d=>({...d,query:o})),o){const d=S.filter(f=>f.title.toLowerCase().indexOf(i.query.toLowerCase())!==-1);p(f=>({...f,results:d}))}},[i.query]),y=l.useCallback(()=>{c(j)},[]),E=t.jsxs(x,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[t.jsx(H,{query:i.query,results:i.results,onSearch:C,hrefItem:o=>b.dashboard.job.details(o)}),t.jsxs(x,{direction:"row",spacing:1,flexShrink:0,children:[t.jsx(V,{open:a.value,onOpen:a.onTrue,onClose:a.onFalse,filters:n,onFilters:O,canReset:r,onResetFilters:y,locationOptions:L,roleOptions:R,benefitOptions:_.map(o=>o.label),experienceOptions:["all",...P.map(o=>o.label)],employmentTypeOptions:w.map(o=>o.label)}),t.jsx(X,{sort:m,onSort:g,sortOptions:N})]})]}),J=t.jsx(z,{filters:n,onResetFilters:y,canReset:r,onFilters:O,results:s.length});return t.jsxs(k,{maxWidth:e.themeStretch?!1:"lg",children:[t.jsx(Y,{heading:"List",links:[{name:"Dashboard",href:b.dashboard.root},{name:"Job",href:b.dashboard.job.root},{name:"List"}],action:t.jsx(q,{component:v,href:b.dashboard.job.new,variant:"contained",startIcon:t.jsx(M,{icon:"mingcute:add-line"}),children:"New Job"}),sx:{mb:{xs:3,md:5}}}),t.jsxs(x,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[E,r&&J]}),F&&t.jsx(W,{filled:!0,title:"No Data",sx:{py:10}}),t.jsx(G,{jobs:s})]})}const Q=({inputData:e,filters:a,sortBy:m})=>{const{employmentTypes:h,experience:i,roles:p,locations:n,benefits:c}=a;return m==="latest"&&(e=u(e,["createdAt"],["desc"])),m==="oldest"&&(e=u(e,["createdAt"],["asc"])),m==="popular"&&(e=u(e,["totalViews"],["desc"])),h.length&&(e=e.filter(s=>s.employmentTypes.some(r=>h.includes(r)))),i!=="all"&&(e=e.filter(s=>s.experience===i)),p.length&&(e=e.filter(s=>p.includes(s.role))),n.length&&(e=e.filter(s=>s.locations.some(r=>n.includes(r)))),c.length&&(e=e.filter(s=>s.benefits.some(r=>c.includes(r)))),e};function st(){return t.jsxs(t.Fragment,{children:[t.jsx(A,{children:t.jsx("title",{children:" Dashboard: Job List"})}),t.jsx(K,{})]})}export{st as default};
