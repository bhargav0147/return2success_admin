import{a as B,v,r as n,c as A,ac as E,p as h,j as t,C as I,B as C,R as O,d as T,o as H,d9 as N,bj as U,I as _,ai as V,W}from"./index-27ffd735.js";import{u as z,h as q,i as G,j as K}from"./product-shop-details-view-a42685e2.js";import"./_baseToString-c85d59f0.js";import"./index-b6b89eba.js";import"./empty-content-67ee3c7b.js";import{C as J}from"./confirm-dialog-31af3c64.js";import{C as M}from"./custom-breadcrumbs-891ee9b7.js";import{g as Q,e as X}from"./utils-b5337f6b.js";import{u as Y}from"./use-table-ad19f892.js";import{f as Z,a as $,d as ee,b as te,e as oe}from"./table-pagination-custom-61c144d7.js";import{T as re}from"./table-skeleton-16a65876.js";import{T as se,a as ie,b as ae}from"./TableContainer-f8ac8b22.js";import"./rhf-autocomplete-cc9ff921.js";import"./upload-avatar-5c17c7d6.js";import"./format-number-bf5061ab.js";import"./fade-27de7a97.js";import"./file-thumbnail-bdf7cfb6.js";import"./index-b7215938.js";import"./ListItemText-ff35796a.js";import"./image-7d02ef11.js";import"./TextField-18c86d14.js";import"./FormControl-26894946.js";import"./utils-a73c94d0.js";import"./useFormControl-146f88ba.js";import"./formControlState-a1fb9590.js";import"./FormLabel-fae9cf0f.js";import"./Select-7c65bb90.js";import"./index-e5978b8b.js";import"./Menu-02e5c653.js";import"./List-1e1da31b.js";import"./InputBase-894de89e.js";import"./Checkbox-ca090919.js";import"./SwitchBase-cff1fcb3.js";import"./Chip-a5be7a74.js";import"./FormControlLabel-4c76a5b9.js";import"./FormGroup-6550ea98.js";import"./Switch-356d0d7d.js";import"./editor-7e7ca674.js";import"./highlight-d4e5d3fc.js";import"./Slider-8f570469.js";import"./visuallyHidden-14c3de6e.js";import"./RadioGroup-d8b34bea.js";import"./Radio-a65c6d92.js";import"./Autocomplete-b5c308cf.js";import"./Close-d91a1546.js";import"./yup-c975ca61.js";import"./CardHeader-8b482d81.js";import"./InputAdornment-babdc070.js";import"./LoadingButton-405ddbf1.js";import"./CircularProgress-a33cd36e.js";import"./color-preview-89b6ca07.js";import"./Fab-d104f767.js";import"./Pagination-5cbd8de4.js";import"./FirstPage-6da56183.js";import"./index-0c5ce7cc.js";import"./search-not-found-e6059c5f.js";import"./Rating-f423df4c.js";import"./TablePagination-488334e4.js";import"./KeyboardArrowRight-44da873a.js";import"./Tabs-a75c564a.js";import"./sumBy-4f4975fb.js";import"./_baseIteratee-9e852688.js";import"./_baseSum-340d39f5.js";import"./format-time-4dc4f2eb.js";import"./Dialog-5a3d7487.js";import"./DialogTitle-eb11eb3a.js";import"./dialogTitleClasses-80e3b880.js";import"./DialogContent-90bef667.js";import"./DialogActions-29076f9a.js";import"./Skeleton-f774d223.js";import"./incrementer-button-edbfa705.js";import"./use-light-box-5fb5e135.js";import"./carousel-arrow-index-ec1e215d.js";import"./markdown-61d29bd3.js";const ne=[{id:"name",label:"Product"},{id:"createdAt",label:"Create at",width:160},{id:"inventoryType",label:"Stock",width:160},{id:"price",label:"Price",width:140},{id:"publish",label:"Publish",width:110},{id:"",width:88}],le=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],x={name:"",publish:[],stock:[]};function de(){const s=B(),e=Y(),P=v(),[i,m]=n.useState([]),[l,p]=n.useState(x),{products:r,productsLoading:c,productsEmpty:u}=z(),g=A();n.useEffect(()=>{r.length&&m(r)},[r]);const d=me({inputData:i,comparator:Q(e.order,e.orderBy),filters:l}),b=d.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),f=e.dense?60:80,R=!E(x,l),S=!d.length&&R||u,j=n.useCallback((o,a)=>{e.onResetPage(),p(w=>({...w,[o]:a}))},[e]),F=n.useCallback(o=>{const a=i.filter(w=>w.id!==o);m(a),e.onUpdatePageDeleteRow(b.length)},[b.length,e,i]),y=n.useCallback(()=>{const o=i.filter(a=>!e.selected.includes(a.id));m(o),e.onUpdatePageDeleteRows({totalRows:i.length,totalRowsInPage:b.length,totalRowsFiltered:d.length})},[d.length,b.length,e,i]),k=n.useCallback(o=>{s.push(h.dashboard.product.edit(o))},[s]),D=n.useCallback(o=>{s.push(h.dashboard.product.details(o))},[s]),L=n.useCallback(()=>{p(x)},[]);return t.jsxs(t.Fragment,{children:[t.jsxs(I,{maxWidth:P.themeStretch?!1:"lg",children:[t.jsx(M,{heading:"List",links:[{name:"Dashboard",href:h.dashboard.root},{name:"Product",href:h.dashboard.product.root},{name:"List"}],action:t.jsx(C,{component:O,href:h.dashboard.product.new,variant:"contained",startIcon:t.jsx(T,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),t.jsxs(H,{children:[t.jsx(q,{filters:l,onFilters:j,stockOptions:N,publishOptions:le}),R&&t.jsx(G,{filters:l,onFilters:j,onResetFilters:L,results:d.length,sx:{p:2.5,pt:0}}),t.jsxs(se,{sx:{position:"relative",overflow:"unset"},children:[t.jsx(Z,{dense:e.dense,numSelected:e.selected.length,rowCount:i.length,onSelectAllRows:o=>e.onSelectAllRows(o,i.map(a=>a.id)),action:t.jsx(U,{title:"Delete",children:t.jsx(_,{color:"primary",onClick:g.onTrue,children:t.jsx(T,{icon:"solar:trash-bin-trash-bold"})})})}),t.jsx(V,{children:t.jsxs(ie,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[t.jsx($,{order:e.order,orderBy:e.orderBy,headLabel:ne,rowCount:i.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:o=>e.onSelectAllRows(o,i.map(a=>a.id))}),t.jsxs(ae,{children:[c?[...Array(e.rowsPerPage)].map((o,a)=>t.jsx(re,{sx:{height:f}},a)):t.jsx(t.Fragment,{children:d.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(o=>t.jsx(K,{row:o,selected:e.selected.includes(o.id),onSelectRow:()=>e.onSelectRow(o.id),onDeleteRow:()=>F(o.id),onEditRow:()=>k(o.id),onViewRow:()=>D(o.id)},o.id))}),t.jsx(ee,{height:f,emptyRows:X(e.page,e.rowsPerPage,i.length)}),t.jsx(te,{notFound:S})]})]})})]}),t.jsx(oe,{count:d.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),t.jsx(J,{open:g.value,onClose:g.onFalse,title:"Delete",content:t.jsxs(t.Fragment,{children:["Are you sure want to delete ",t.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:t.jsx(C,{variant:"contained",color:"error",onClick:()=>{y(),g.onFalse()},children:"Delete"})})]})}function me({inputData:s,comparator:e,filters:P}){const{name:i,stock:m,publish:l}=P,p=s.map((r,c)=>[r,c]);return p.sort((r,c)=>{const u=e(r[0],c[0]);return u!==0?u:r[1]-c[1]}),s=p.map(r=>r[0]),i&&(s=s.filter(r=>r.name.toLowerCase().indexOf(i.toLowerCase())!==-1)),m.length&&(s=s.filter(r=>m.includes(r.inventoryType))),l.length&&(s=s.filter(r=>l.includes(r.publish))),s}function Bt(){return t.jsxs(t.Fragment,{children:[t.jsx(W,{children:t.jsx("title",{children:" Dashboard: Product List"})}),t.jsx(de,{})]})}export{Bt as default};
