import{v as w,ab as U,c as A,r as n,ac as G,j as r,C as L,T as Q,S as O,p as q,ad as v,ae as B,af as W,ag as V,ah as Y,W as z}from"./index-27ffd735.js";import{u as H,a as J,P as K,C as M,b as X,c as Z,d as $,e as D}from"./product-shop-details-view-a42685e2.js";import{o as g}from"./orderBy-631f93a1.js";import{u as tt}from"./use-debounce-51e47929.js";import{E as rt}from"./empty-content-67ee3c7b.js";import"./index-b6b89eba.js";import"./confirm-dialog-31af3c64.js";import"./custom-breadcrumbs-891ee9b7.js";import"./table-pagination-custom-61c144d7.js";import"./rhf-autocomplete-cc9ff921.js";import"./upload-avatar-5c17c7d6.js";import"./format-number-bf5061ab.js";import"./fade-27de7a97.js";import"./file-thumbnail-bdf7cfb6.js";import"./index-b7215938.js";import"./ListItemText-ff35796a.js";import"./image-7d02ef11.js";import"./TextField-18c86d14.js";import"./FormControl-26894946.js";import"./utils-a73c94d0.js";import"./useFormControl-146f88ba.js";import"./formControlState-a1fb9590.js";import"./FormLabel-fae9cf0f.js";import"./Select-7c65bb90.js";import"./index-e5978b8b.js";import"./Menu-02e5c653.js";import"./List-1e1da31b.js";import"./InputBase-894de89e.js";import"./Checkbox-ca090919.js";import"./SwitchBase-cff1fcb3.js";import"./Chip-a5be7a74.js";import"./FormControlLabel-4c76a5b9.js";import"./FormGroup-6550ea98.js";import"./Switch-356d0d7d.js";import"./editor-7e7ca674.js";import"./highlight-d4e5d3fc.js";import"./Slider-8f570469.js";import"./visuallyHidden-14c3de6e.js";import"./RadioGroup-d8b34bea.js";import"./Radio-a65c6d92.js";import"./Autocomplete-b5c308cf.js";import"./Close-d91a1546.js";import"./yup-c975ca61.js";import"./CardHeader-8b482d81.js";import"./InputAdornment-babdc070.js";import"./LoadingButton-405ddbf1.js";import"./CircularProgress-a33cd36e.js";import"./color-preview-89b6ca07.js";import"./Fab-d104f767.js";import"./Pagination-5cbd8de4.js";import"./FirstPage-6da56183.js";import"./index-0c5ce7cc.js";import"./search-not-found-e6059c5f.js";import"./Rating-f423df4c.js";import"./TablePagination-488334e4.js";import"./KeyboardArrowRight-44da873a.js";import"./Tabs-a75c564a.js";import"./sumBy-4f4975fb.js";import"./_baseIteratee-9e852688.js";import"./_baseToString-c85d59f0.js";import"./_baseSum-340d39f5.js";import"./format-time-4dc4f2eb.js";import"./Dialog-5a3d7487.js";import"./DialogTitle-eb11eb3a.js";import"./dialogTitleClasses-80e3b880.js";import"./DialogContent-90bef667.js";import"./DialogActions-29076f9a.js";import"./Skeleton-f774d223.js";import"./incrementer-button-edbfa705.js";import"./use-light-box-5fb5e135.js";import"./carousel-arrow-index-ec1e215d.js";import"./markdown-61d29bd3.js";import"./_baseEach-4159b158.js";const R={gender:[],colors:[],rating:"",category:"all",priceRange:[0,200]};function ot(){const t=w(),x=U(),e=A(),[c,d]=n.useState("featured"),[u,h]=n.useState(""),m=tt(u),[s,p]=n.useState(R),{products:o,productsLoading:l,productsEmpty:a}=H(),{searchResults:j,searchLoading:F}=J(m),C=n.useCallback((i,N)=>{p(k=>({...k,[i]:N}))},[]),S=et({inputData:o,filters:s,sortBy:c}),f=!G(R,s),y=!S.length&&f,T=n.useCallback(i=>{d(i)},[]),b=n.useCallback(i=>{h(i)},[]),P=n.useCallback(()=>{p(R)},[]),I=r.jsxs(O,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[r.jsx(Z,{query:m,results:j,onSearch:b,loading:F,hrefItem:i=>q.product.details(i)}),r.jsxs(O,{direction:"row",spacing:1,flexShrink:0,children:[r.jsx($,{open:e.value,onOpen:e.onTrue,onClose:e.onFalse,filters:s,onFilters:C,canReset:f,onResetFilters:P,colorOptions:v,ratingOptions:B,genderOptions:W,categoryOptions:["all",...V]}),r.jsx(D,{sort:c,onSort:T,sortOptions:Y})]})]}),_=r.jsx(K,{filters:s,onFilters:C,canReset:f,onResetFilters:P,results:S.length}),E=r.jsx(rt,{filled:!0,title:"No Data",sx:{py:10}});return r.jsxs(L,{maxWidth:t.themeStretch?!1:"lg",sx:{mb:15},children:[r.jsx(M,{totalItems:x.totalItems}),r.jsx(Q,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Shop"}),r.jsxs(O,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[I,f&&_]}),(y||a)&&E,r.jsx(X,{products:S,loading:l})]})}function et({inputData:t,filters:x,sortBy:e}){const{gender:c,category:d,colors:u,priceRange:h,rating:m}=x,s=h[0],p=h[1];return e==="featured"&&(t=g(t,["totalSold"],["desc"])),e==="newest"&&(t=g(t,["createdAt"],["desc"])),e==="priceDesc"&&(t=g(t,["price"],["desc"])),e==="priceAsc"&&(t=g(t,["price"],["asc"])),c.length&&(t=t.filter(o=>c.includes(o.gender))),d!=="all"&&(t=t.filter(o=>o.category===d)),u.length&&(t=t.filter(o=>o.colors.some(l=>u.includes(l)))),(s!==0||p!==200)&&(t=t.filter(o=>o.price>=s&&o.price<=p)),m&&(t=t.filter(o=>{const l=a=>a==="up4Star"?4:a==="up3Star"?3:a==="up2Star"?2:1;return o.totalRatings>l(m)})),t}function jr(){return r.jsxs(r.Fragment,{children:[r.jsx(z,{children:r.jsx("title",{children:" Product: Shop"})}),r.jsx(ot,{})]})}export{jr as default};
