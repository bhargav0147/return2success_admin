import{v as U,a as A,c as L,r as i,c_ as c,ac as k,p as g,j as o,C as B,B as j,R as D,d as P,o as E,k as I,F as N,dC as _,bj as O,I as H,ai as W,dA as z,W as q}from"./index-27ffd735.js";import"./user-edit-view-95a33f1c.js";import{C as V}from"./confirm-dialog-31af3c64.js";import{C as $}from"./custom-breadcrumbs-891ee9b7.js";import{g as G,e as J}from"./utils-b5337f6b.js";import{u as K}from"./use-table-ad19f892.js";import{f as M,a as Q,d as X,b as Y,e as Z}from"./table-pagination-custom-61c144d7.js";import{d as ee,e as te,f as oe}from"./profile-details-5cb214cb.js";import{T as se,a as re}from"./Tabs-a75c564a.js";import{T as ae,a as le,b as ne}from"./TableContainer-f8ac8b22.js";import"./user-card-list-c94c0943.js";import"./rhf-autocomplete-cc9ff921.js";import"./yup-c975ca61.js";import"./FormControlLabel-4c76a5b9.js";import"./formControlState-a1fb9590.js";import"./useFormControl-146f88ba.js";import"./Switch-356d0d7d.js";import"./SwitchBase-cff1fcb3.js";import"./LoadingButton-405ddbf1.js";import"./CircularProgress-a33cd36e.js";import"./Dialog-5a3d7487.js";import"./DialogTitle-eb11eb3a.js";import"./dialogTitleClasses-80e3b880.js";import"./DialogContent-90bef667.js";import"./DialogActions-29076f9a.js";import"./index-e5978b8b.js";import"./empty-content-67ee3c7b.js";import"./TablePagination-488334e4.js";import"./KeyboardArrowRight-44da873a.js";import"./FirstPage-6da56183.js";import"./Select-7c65bb90.js";import"./Menu-02e5c653.js";import"./List-1e1da31b.js";import"./utils-a73c94d0.js";import"./InputBase-894de89e.js";import"./Checkbox-ca090919.js";import"./Alert-10196a8b.js";import"./Close-d91a1546.js";import"./ListItemText-ff35796a.js";import"./FormControl-26894946.js";import"./TextField-18c86d14.js";import"./FormLabel-fae9cf0f.js";import"./InputAdornment-babdc070.js";import"./Chip-a5be7a74.js";import"./CardHeader-8b482d81.js";import"./textfield-83a31fde.js";import"./Masonry-5253f02d.js";import"./clsx-1229b3e0.js";import"./Stack-81f38202.js";import"./format-number-bf5061ab.js";import"./table-skeleton-16a65876.js";import"./Skeleton-f774d223.js";import"./DialogContentText-38b36ed8.js";import"./Autocomplete-b5c308cf.js";import"./image-7d02ef11.js";import"./upload-avatar-5c17c7d6.js";import"./fade-27de7a97.js";import"./file-thumbnail-bdf7cfb6.js";import"./index-b7215938.js";import"./FormGroup-6550ea98.js";import"./editor-7e7ca674.js";import"./highlight-d4e5d3fc.js";import"./Slider-8f570469.js";import"./visuallyHidden-14c3de6e.js";import"./RadioGroup-d8b34bea.js";import"./Radio-a65c6d92.js";const ie=[{value:"all",label:"All"},...z],de=[{id:"name",label:"Name"},{id:"phoneNumber",label:"Phone Number",width:180},{id:"company",label:"Company",width:220},{id:"role",label:"Role",width:180},{id:"status",label:"Status",width:100},{id:"",width:88}],b={name:"",role:[],status:"all"};function me(){const e=K(),x=U(),h=A(),d=L(),[a,p]=i.useState(c),[n,r]=i.useState(b),l=ce({inputData:a,comparator:G(e.order,e.orderBy),filters:n}),m=l.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),R=e.dense?52:72,f=!k(b,n),C=!l.length&&f||!l.length,u=i.useCallback((t,s)=>{e.onResetPage(),r(w=>({...w,[t]:s}))},[e]),T=i.useCallback(t=>{const s=a.filter(w=>w.id!==t);p(s),e.onUpdatePageDeleteRow(m.length)},[m.length,e,a]),v=i.useCallback(()=>{const t=a.filter(s=>!e.selected.includes(s.id));p(t),e.onUpdatePageDeleteRows({totalRows:a.length,totalRowsInPage:m.length,totalRowsFiltered:l.length})},[l.length,m.length,e,a]),S=i.useCallback(t=>{h.push(g.dashboard.user.edit(t))},[h]),F=i.useCallback((t,s)=>{u("status",s)},[u]),y=i.useCallback(()=>{r(b)},[]);return o.jsxs(o.Fragment,{children:[o.jsxs(B,{maxWidth:x.themeStretch?!1:"lg",children:[o.jsx($,{heading:"List",links:[{name:"Dashboard",href:g.dashboard.root},{name:"User",href:g.dashboard.user.root},{name:"List"}],action:o.jsx(j,{component:D,href:g.dashboard.user.new,variant:"contained",startIcon:o.jsx(P,{icon:"mingcute:add-line"}),children:"New User"}),sx:{mb:{xs:3,md:5}}}),o.jsxs(E,{children:[o.jsx(se,{value:n.status,onChange:F,sx:{px:2.5,boxShadow:t=>`inset 0 -2px 0 0 ${I(t.palette.grey[500],.08)}`},children:ie.map(t=>o.jsx(re,{iconPosition:"end",value:t.value,label:t.label,icon:o.jsxs(N,{variant:(t.value==="all"||t.value===n.status)&&"filled"||"soft",color:t.value==="active"&&"success"||t.value==="pending"&&"warning"||t.value==="banned"&&"error"||"default",children:[t.value==="all"&&c.length,t.value==="active"&&c.filter(s=>s.status==="active").length,t.value==="pending"&&c.filter(s=>s.status==="pending").length,t.value==="banned"&&c.filter(s=>s.status==="banned").length,t.value==="rejected"&&c.filter(s=>s.status==="rejected").length]})},t.value))}),o.jsx(ee,{filters:n,onFilters:u,roleOptions:_}),f&&o.jsx(te,{filters:n,onFilters:u,onResetFilters:y,results:l.length,sx:{p:2.5,pt:0}}),o.jsxs(ae,{sx:{position:"relative",overflow:"unset"},children:[o.jsx(M,{dense:e.dense,numSelected:e.selected.length,rowCount:a.length,onSelectAllRows:t=>e.onSelectAllRows(t,a.map(s=>s.id)),action:o.jsx(O,{title:"Delete",children:o.jsx(H,{color:"primary",onClick:d.onTrue,children:o.jsx(P,{icon:"solar:trash-bin-trash-bold"})})})}),o.jsx(W,{children:o.jsxs(le,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[o.jsx(Q,{order:e.order,orderBy:e.orderBy,headLabel:de,rowCount:a.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,a.map(s=>s.id))}),o.jsxs(ne,{children:[l.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(t=>o.jsx(oe,{row:t,selected:e.selected.includes(t.id),onSelectRow:()=>e.onSelectRow(t.id),onDeleteRow:()=>T(t.id),onEditRow:()=>S(t.id)},t.id)),o.jsx(X,{height:R,emptyRows:J(e.page,e.rowsPerPage,a.length)}),o.jsx(Y,{notFound:C})]})]})})]}),o.jsx(Z,{count:l.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),o.jsx(V,{open:d.value,onClose:d.onFalse,title:"Delete",content:o.jsxs(o.Fragment,{children:["Are you sure want to delete ",o.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:o.jsx(j,{variant:"contained",color:"error",onClick:()=>{v(),d.onFalse()},children:"Delete"})})]})}function ce({inputData:e,comparator:x,filters:h}){const{name:d,status:a,role:p}=h,n=e.map((r,l)=>[r,l]);return n.sort((r,l)=>{const m=x(r[0],l[0]);return m!==0?m:r[1]-l[1]}),e=n.map(r=>r[0]),d&&(e=e.filter(r=>r.name.toLowerCase().indexOf(d.toLowerCase())!==-1)),a!=="all"&&(e=e.filter(r=>r.status===a)),p.length&&(e=e.filter(r=>p.includes(r.role))),e}function Tt(){return o.jsxs(o.Fragment,{children:[o.jsx(q,{children:o.jsx("title",{children:" Dashboard: User List"})}),o.jsx(me,{})]})}export{Tt as default};
