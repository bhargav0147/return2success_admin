import{r,av as he,aP as be,bs as ce,b1 as Y,bt as ke,j as R,as as u,a_ as Be,s as ge,aI as ee,au as Ie,aw as pe,b4 as fe,ap as te,ax as Ae,bu as He,bv as Ee,aR as Pe}from"./index-27ffd735.js";import{f as We}from"./formControlState-a1fb9590.js";import{u as Me,F as Oe}from"./useFormControl-146f88ba.js";import{a as Te}from"./utils-a73c94d0.js";const Le=["onChange","maxRows","minRows","style","value"];function K(t){return parseInt(t,10)||0}const Ne={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function me(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const je=r.forwardRef(function(e,o){const{onChange:p,maxRows:d,minRows:c=1,style:A,value:z}=e,M=he(e,Le),{current:F}=r.useRef(z!=null),w=r.useRef(null),H=be(o,w),h=r.useRef(null),b=r.useRef(0),[k,E]=r.useState({outerHeightStyle:0}),P=r.useCallback(()=>{const i=w.current,s=ce(i).getComputedStyle(i);if(s.width==="0px")return{outerHeightStyle:0};const l=h.current;l.style.width=s.width,l.value=i.value||e.placeholder||"x",l.value.slice(-1)===`
`&&(l.value+=" ");const g=s.boxSizing,B=K(s.paddingBottom)+K(s.paddingTop),C=K(s.borderBottomWidth)+K(s.borderTopWidth),v=l.scrollHeight;l.value="x";const I=l.scrollHeight;let y=v;c&&(y=Math.max(Number(c)*I,y)),d&&(y=Math.min(Number(d)*I,y)),y=Math.max(y,I);const _=y+(g==="border-box"?B+C:0),O=Math.abs(y-v)<=1;return{outerHeightStyle:_,overflow:O}},[d,c,e.placeholder]),N=(i,x)=>{const{outerHeightStyle:s,overflow:l}=x;return b.current<20&&(s>0&&Math.abs((i.outerHeightStyle||0)-s)>1||i.overflow!==l)?(b.current+=1,{overflow:l,outerHeightStyle:s}):i},f=r.useCallback(()=>{const i=P();me(i)||E(x=>N(x,i))},[P]);Y(()=>{const i=()=>{const v=P();me(v)||Be.flushSync(()=>{E(I=>N(I,v))})},x=()=>{b.current=0,i()};let s;const l=ke(x),g=w.current,B=ce(g);B.addEventListener("resize",l);let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(x),C.observe(g)),()=>{l.clear(),cancelAnimationFrame(s),B.removeEventListener("resize",l),C&&C.disconnect()}},[P]),Y(()=>{f()}),r.useEffect(()=>{b.current=0},[z]);const U=i=>{b.current=0,F||f(),p&&p(i)};return R.jsxs(r.Fragment,{children:[R.jsx("textarea",u({value:z,onChange:U,ref:H,rows:c,style:u({height:k.outerHeightStyle,overflow:k.overflow?"hidden":void 0},A)},M)),R.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:u({},Ne.shadow,A,{paddingTop:0,paddingBottom:0})})]})}),$e=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],De=(t,e)=>{const{ownerState:o}=t;return[e.root,o.formControl&&e.formControl,o.startAdornment&&e.adornedStart,o.endAdornment&&e.adornedEnd,o.error&&e.error,o.size==="small"&&e.sizeSmall,o.multiline&&e.multiline,o.color&&e[`color${te(o.color)}`],o.fullWidth&&e.fullWidth,o.hiddenLabel&&e.hiddenLabel]},Ke=(t,e)=>{const{ownerState:o}=t;return[e.input,o.size==="small"&&e.inputSizeSmall,o.multiline&&e.inputMultiline,o.type==="search"&&e.inputTypeSearch,o.startAdornment&&e.inputAdornedStart,o.endAdornment&&e.inputAdornedEnd,o.hiddenLabel&&e.inputHiddenLabel]},Ue=t=>{const{classes:e,color:o,disabled:p,error:d,endAdornment:c,focused:A,formControl:z,fullWidth:M,hiddenLabel:F,multiline:w,readOnly:H,size:h,startAdornment:b,type:k}=t,E={root:["root",`color${te(o)}`,p&&"disabled",d&&"error",M&&"fullWidth",A&&"focused",z&&"formControl",h&&h!=="medium"&&`size${te(h)}`,w&&"multiline",b&&"adornedStart",c&&"adornedEnd",F&&"hiddenLabel",H&&"readOnly"],input:["input",p&&"disabled",k==="search"&&"inputTypeSearch",w&&"inputMultiline",h==="small"&&"inputSizeSmall",F&&"inputHiddenLabel",b&&"inputAdornedStart",c&&"inputAdornedEnd",H&&"readOnly"]};return Ae(E,He,e)},_e=ge("div",{name:"MuiInputBase",slot:"Root",overridesResolver:De})(({theme:t,ownerState:e})=>u({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ee.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&u({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Ve=ge("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Ke})(({theme:t,ownerState:e})=>{const o=t.palette.mode==="light",p=u({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),d={opacity:"0 !important"},c=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5};return u({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":p,"&::-moz-placeholder":p,"&:-ms-input-placeholder":p,"&::-ms-input-placeholder":p,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ee.formControl} &`]:{"&::-webkit-input-placeholder":d,"&::-moz-placeholder":d,"&:-ms-input-placeholder":d,"&::-ms-input-placeholder":d,"&:focus::-webkit-input-placeholder":c,"&:focus::-moz-placeholder":c,"&:focus:-ms-input-placeholder":c,"&:focus::-ms-input-placeholder":c},[`&.${ee.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Ge=R.jsx(Ee,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),qe=r.forwardRef(function(e,o){var p;const d=Ie({props:e,name:"MuiInputBase"}),{"aria-describedby":c,autoComplete:A,autoFocus:z,className:M,components:F={},componentsProps:w={},defaultValue:H,disabled:h,disableInjectingGlobalStyles:b,endAdornment:k,fullWidth:E=!1,id:P,inputComponent:N="input",inputProps:f={},inputRef:U,maxRows:i,minRows:x,multiline:s=!1,name:l,onBlur:g,onChange:B,onClick:C,onFocus:v,onKeyDown:I,onKeyUp:y,placeholder:_,readOnly:O,renderSuffix:oe,rows:j,slotProps:ne={},slots:re={},startAdornment:T,type:ae="text",value:ye}=d,we=he(d,$e),$=f.value!=null?f.value:ye,{current:V}=r.useRef($!=null),W=r.useRef(),xe=r.useCallback(n=>{},[]),Ce=be(W,U,f.ref,xe),[G,q]=r.useState(!1),a=Me(),m=We({props:d,muiFormControl:a,states:["color","disabled","error","hiddenLabel","size","required","filled"]});m.focused=a?a.focused:G,r.useEffect(()=>{!a&&h&&G&&(q(!1),g&&g())},[a,h,G,g]);const Z=a&&a.onFilled,J=a&&a.onEmpty,L=r.useCallback(n=>{Te(n)?Z&&Z():J&&J()},[Z,J]);Y(()=>{V&&L({value:$})},[$,L,V]);const Se=n=>{if(m.disabled){n.stopPropagation();return}v&&v(n),f.onFocus&&f.onFocus(n),a&&a.onFocus?a.onFocus(n):q(!0)},ve=n=>{g&&g(n),f.onBlur&&f.onBlur(n),a&&a.onBlur?a.onBlur(n):q(!1)},Re=(n,...ue)=>{if(!V){const de=n.target||W.current;if(de==null)throw new Error(Pe(1));L({value:de.value})}f.onChange&&f.onChange(n,...ue),B&&B(n,...ue)};r.useEffect(()=>{L(W.current)},[]);const ze=n=>{W.current&&n.currentTarget===n.target&&W.current.focus(),C&&C(n)};let Q=N,S=f;s&&Q==="input"&&(j?S=u({type:void 0,minRows:j,maxRows:j},S):S=u({type:void 0,maxRows:i,minRows:x},S),Q=je);const Fe=n=>{L(n.animationName==="mui-auto-fill-cancel"?W.current:{value:"x"})};r.useEffect(()=>{a&&a.setAdornedStart(!!T)},[a,T]);const D=u({},d,{color:m.color||"primary",disabled:m.disabled,endAdornment:k,error:m.error,focused:m.focused,formControl:a,fullWidth:E,hiddenLabel:m.hiddenLabel,multiline:s,size:m.size,startAdornment:T,type:ae}),ie=Ue(D),se=re.root||F.Root||_e,X=ne.root||w.root||{},le=re.input||F.Input||Ve;return S=u({},S,(p=ne.input)!=null?p:w.input),R.jsxs(r.Fragment,{children:[!b&&Ge,R.jsxs(se,u({},X,!fe(se)&&{ownerState:u({},D,X.ownerState)},{ref:o,onClick:ze},we,{className:pe(ie.root,X.className,M,O&&"MuiInputBase-readOnly"),children:[T,R.jsx(Oe.Provider,{value:null,children:R.jsx(le,u({ownerState:D,"aria-invalid":m.error,"aria-describedby":c,autoComplete:A,autoFocus:z,defaultValue:H,disabled:m.disabled,id:P,onAnimationStart:Fe,name:l,placeholder:_,readOnly:O,required:m.required,rows:j,value:$,onKeyDown:I,onKeyUp:y,type:ae},S,!fe(le)&&{as:Q,ownerState:u({},D,S.ownerState)},{ref:Ce,className:pe(ie.input,S.className,O&&"MuiInputBase-readOnly"),onBlur:ve,onChange:Re,onFocus:Se}))}),k,oe?oe(u({},m,{startAdornment:T})):null]}))]})}),Ye=qe;export{_e as I,Ve as a,Ye as b,Ke as i,De as r};
